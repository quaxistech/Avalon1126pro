<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="renderer" content="webkit" />
  <meta http-equiv="Cache-Control" content="no-cache, must-revalidate" />
  <meta http-equiv="pragma" content="no-cache" />
  <title>Avalon Device</title>
  <style type="text/css">
    * {
      margin: 0;
      padding: 0;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }

    li {
      list-style-type: none;
    }

    body {
      margin: 0;
      background-color: #f2f2f2;
      background-image: none;
      position: relative;
      text-align: left;
      height: 100vh;
      width: 100vw;
      font-size: 0.14rem;
    }

    a {
      text-decoration: none;
    }

    a:link {
      color: #fff;
    }

    a:visited {
      color: #fff;
    }

    a:hover {
      color: #f5533d;
    }

    a:active {
      color: #fff;
    }

    .bg {
      background-position: center;
      background-size: cover;
      background-repeat: no-repeat;
    }

    .btn {
      background-position: center;
      background-size: contain;
      background-repeat: no-repeat;
      cursor: pointer;
    }

    .img-logo {
      float: left;
      margin-top: 0.06rem;
      margin-left: 0.58rem;
      width: 0.37rem;
      height: 0.38rem;
      background-image: url("data:image/png;base64,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");
    }

    .img-refresh {
      margin-top: 0.15rem;
      width: 0.23rem;
      height: 0.23rem;
      background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAFVBMVEVHcExwcHBwcHBwcHBwcHBwcHBwcHDnx2nMAAAABnRSTlMA2Et4nyOVajJ6AAAEyUlEQVR42u1by1LrMAwlL9YthKxDW7pueWQdaG/WfXBZk0fz/59wC5Q2L1uyJWfmzkQ7BoYTW0dHsmxdXQ022GCDDTbYYIN506ejPU4mG1MIu+dxebbx6sEAxDQoG+a/MEPsk7LDWGG8ZSmwWzbn7AMRRhkUTIuZiTGOlv5hwSgBe6NjLEvQbqgY92VpHAWFQdyx9xJpBO87ARYkXWjHIBqjLAvdqJy3Pzgdr1fP69cxn/MDsVR501cet7gNiIa27xoRlIY6IFbtXzyA0pzpgHyAauvVJWdB8/sbSqALDZDr81a9INPAnb5P5IFWDVgN37s4broBKVgCHP+rAhfqef5GSao1aHyMAx+jcQllKd70AaV79sUtn+bK14tbUoNFcnRGic2BOGeQ3OBStiQFU04+mUEQqw/XX5YS97GUrI+lpEAA2z7HUmKIiAuGpeRQ4I4IIB+o/TqWjJSAtVHx+JULKYfACJPr50SWW5iyJSGy3EakLlu3eKp9JUBiSzOBtvcrg/w2YtivAjrz5Bz7tQGyW7phiMcY+gOKsjhQpCT6ZXNLv3KI5CQSR/L0aBGqwPZ/CaEzT8zglBg661KU5ffsfweUZ7R6I5F96JZ4wmwEQgpUszQSW5KYt6tn5ZzB8yHUfqAoiyehV71ZE9NjfgQ2azJ6zB+kBKYqy4fwO61GXykk06uQE5iYHl1RoHjNDllO5zDUPyMpiyfa8Xa3cUHmcChKiizKknTHmt3RgiUHSgwQmEbieTdBow4QdWXZP/3Yabvy04/dmqKrLILe90JAYD0Sy0G2sl+ql6gN28h+q6ws3d+aCwmspSxO57+5k7hExymBZNcdwY0IobPW8am7ybedXPP289Mk1M0k0kiIqNJoI2KaDNJF0w1O2NRVS+ZYOogLZ4w5W80lkQ36SlokTrF5gELizASIAyYlBpCmU0JRfflJAZlDynQtrJR1SXwQeo3U1vWgvGdxXBvUlEW8VFJDokbiTCyitIa+AyRwG+pVqZI4VCnHNUlcyD4iZnLKQcYMUshXSBzLVkq8/0gkBL7oCvF+7Vpet1ksl1KO/O7UZaGX8DhXDxQavU6uTQFi3F0xkPig1XVTJPEIiFbqdWQgJnDlhBHSSVzo9ltV0uMnWDFT7zzlFXXAkbe+azxEBbihkjhDnC2JTrGlSu4wOWWGSQZGL+7PyWBhEmTOI1+4MrMwCWKXPMqCc4rR/dr2wS+nj4c02IcOPCROwx5ITDtxQRk66MP18x5etl34pbiU6fpxox6PauW9q/bWcitsVoFJAs9IW6fLvVVlZKTegD69hCw0QgX/xvxenSuJ6l2Nq+FFS/Ea5fJsVKWWCtSa6VEpPyeCS0Fwf6bZeld5lL/XvUSw8LMS1Ufcii2ABItiB/r3+NUWnOzJexVDvZcRoVBqz+rVM3a9+3rTuRFefbpKo/aojwP5HVG5q4+H3Ork4UQ+GmIv601gvdcbrWso/+nv+QsmS6Z77475qbG/Xq3WPuO4jpf0MHhUDwJDI1QKg1qkgUPkyBlx3HCGwSCPAb73gHFEgfzCMDQpHTFlG//8EhBJfLCdyLyZ+ZHctuD+igz3DHMbxn80cHDZzYwPfJ8Ufvo1vG5wdH2wwQYbbLDBBvuP7B9vuzVLmGYDJwAAAABJRU5ErkJggg==");
    }

    .img-support {
      margin-left: 0.6rem;
      float: left;
      width: 0.2rem;
      height: 0.2rem;
      background-image: url("data:image/png;base64,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");
    }

    .img-document {
      margin-left: 0.6rem;
      float: left;
      width: 0.2rem;
      height: 0.2rem;
      background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAFVBMVEVHcEz///////////////////////+3ygHaAAAABnRSTlMAPlbAqonP8qivAAABfElEQVR42u2bPW+DMBBAoV8zWTKTqM0fqJq5rSLmTJnTFu7//4QU2khQzviwCWrV90Zz1sNn+xDDJQkAAAAAAADAGNLFT7LP0XWHOk4Ns3FVSI969qY98F5HLntxZW5z3IqES0T2pnVoDklUyZ0WallLoU0sdcmNMzYgWfKmS1I12J+wg3teX9IdOlN5D6+4M6BIrsV1SsZnK3dJ9KX48qWel5fEKUm3SvzRtiWPLZ5W38/udy1ez/l9aMfaNqV5sSoLrkfNS354ouyXdmhPLSuJqa3mlcRKBAkSJEiQIEGCBAkSJEj+sGQ3yEQSGQQJEiSzSdaDUCCRIEHyjyWzFEg+WkiQ/BLJLD9BVGEkSJAg4aOFBAkSCiQSJEiQIEGCBAkSJEjUmH24w9SG0HQElVmo46uhwtcVtOm3hoyh05viZCkTcDTlNJJnX1K3E0i8W3qId1TGMxiF4QYUsQ5DW5ujQW8Euf3SXjJZjSUiY+XKXh0WgWQJAADApTgBB+Y3jy9Gy9UAAAAASUVORK5CYII=");
    }

    .header {
      width: 100%;
      height: 0.5rem;
      background-color: #464c5b;
    }

    .header .state {
      float: right;
      height: 100%;
    }

    .header .state .logout {
      height: 100%;
      color: #fff;
      line-height: 0.5rem;
      margin-right: 0.5rem;
      float: left;
      cursor: pointer;
    }

    .nav {
      float: left;
      width: 2rem;
      height: calc(100vh - 0.5rem);
      background-color: #464c5b;
      border-right: 1px solid rgba(0, 0, 0, 1);
    }

    .nav .menu li {
      width: 100%;
      height: 0.5rem;
      background-color: rgba(252, 252, 252, 1);
      text-indent: 0.4rem;
      border-bottom: 1px solid rgba(242, 242, 242, 1);
      line-height: 0.5rem;
    }

    .nav .menu .iconfont {
      color: #ea7500;
    }

    .nav .menu li strong {
      width: 100%;
      height: 100%;
      cursor: pointer;
    }

    .nav .menu li strong.cur {
      color: #ea7500;
    }

    .nav .menu .menu-ch {
      margin-top: 1px;
    }

    .nav .menu .menu-ch li {
      width: 100%;
      height: 0.5rem;
      background-color: #fff;
      text-indent: 0.6rem;
    }

    .nav .menu .menu-ch li span {
      margin-left: 0.2rem;
    }

    .nav .link {
      position: absolute;
      left: 0;
      bottom: 0.3rem;
      line-height: 0.2rem;
      color: #fff;
    }

    .nav .link li {
      margin-top: 0.1rem;
      height: 0.2rem;
    }

    #side_nav {
      display: block;
    }

    .content {
      float: left;
      height: calc(100vh - 0.5rem);
      overflow: hidden;
    }

    .content .top {
      position: absolute;
      left: 2.1rem;
      top: 0.6rem;
      width: calc(100vw - 2.2rem);
      height: 0.54rem;
      background-color: rgba(255, 255, 255, 1);
    }

    .content .top .right {
      float: right;
      margin-right: 0.2rem;
    }

    .content .top div {
      float: left;
      line-height: 0.54rem;
      margin-left: 0.2rem;
    }

    .content .top .miner_name {
      font-weight: 700;
      font-size: 0.18rem;
    }

    .content .top .vertical {
      width: 1px;
      height: 0.22rem;
      margin-top: 0.16rem;
      background-color: #333;
    }

    .content .top .status {
      width: 69px;
      height: 0.27rem;
      line-height: 0.27rem;
      margin-top: 0.13rem;
      box-sizing: border-box;
      border-width: 1px;
      border-style: solid;
      border-color: rgba(121, 121, 121, 1);
      border-radius: 0.27rem;
      text-align: center;
    }

    .content .top .on {
      background-color: rgba(4, 242, 28, 1);
    }

    .content .top .off {
      background-color: rgba(170, 170, 170, 1);
    }

    .content .main {
      width: calc(100vw - 2rem);
      height: calc(100vh - 1.14rem);
      overflow: hidden;
      position: absolute;
      top: 1.14rem;
      left: 2rem;
    }

    .content .bottom {
      position: absolute;
      left: 2.1rem;
      bottom: 0.1rem;
      width: calc(100vw - 2.2rem);
      height: 0.54rem;
      background-color: rgba(242, 242, 242, 1);
      box-sizing: border-box;
      border-width: 1px;
      border-style: solid;
      border-color: rgba(121, 121, 121, 1);
    }

    .content .bottom div {
      float: left;
      line-height: 0.54rem;
      margin-left: 0.2rem;
    }

    .main .title {
      width: calc(100vw - 2.2rem);
      height: 0.55rem;
      line-height: 0.55rem;
      margin: 0 0.1rem;
      font-size: 0.18rem;
      font-weight: 700;
      background-color: rgba(215, 215, 215, 1);
      text-indent: 0.2rem;
    }

    .main .panel {
      width: calc(100vw - 2.2rem);
      height: 2.44rem;
      background-color: #fff;
      margin: 0 0.1rem;
    }

    .main .btn-browse {
      float: left;
      width: 1.4rem;
      height: 0.4rem;
      position: relative;
      top: 50%;
      left: 3rem;
      margin-top: -0.2rem;
    }

    .main .file-show {
      float: left;
      width: 50%;
      height: 0.64em;
      position: relative;
      top: 50%;
      left: 4rem;
      margin-top: -0.32rem;
    }

    .main .file-img {
      position: relative;
      left: 50%;
      margin-left: -0.2rem;
      width: 0.4rem;
      height: 0.4rem;
      background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADIBAMAAABfdrOtAAAAFVBMVEVHcExwcHBwcHBwcHBwcHBwcHBwcHDnx2nMAAAABnRSTlMAv0aCH+TKwnikAAAEWElEQVR42u2cTVPbMBCGHdtwDg34nJQ05wQSn00z5Axh8Bk7sf7/TyjFdurY+tiVVhqg2lOnZPxYn959d6Ug4Njt6pVpWXV1H8As3DADK9YgRs7MDEAJE8ZsU2JzBquWCsgvRmAHOSPKKSBsLIWkjMako07EkDZlQQWRjEqcU0GYeIKNTr95vdKym9MDSmVvFfNA0+JV+wjhT5qFWEwDfWs3PtEzImV/QtqSyOdXMyTHwMgi+aDs5A2FWiqdxAvIxqO2ukMq6bg/mUKabSPj/zU3H/bOywp6Xb23YQaF/7KxYhWBbSGZwyHNuAfBpRJSmkMuJBMoooLUc/jNQzzEQ3CQ07ef0UJam2RDh44c8nc37Hum9JD3L8ujfcjTwP21ACkHwYIFyMFNS3b2IUcOlhyybH0Um5Bs8F/0kOsPJeUsgiGDFM1j7/xWf3LVVq/VZGoXUusXg+iPFBIKYkxSSCqQBighI5HKQQlJRSoHISQSqhyEkMX5RmsHkghVITrIuQNSZVYgkVh6ooOMxFIdHeTyHPJmBbLrf8e/LETiQn+xlqQOILOBU00PeciZ9cW4HYjNU3JINEiyFOQbJCdZRL4L8xJSY2JIzMuxTIkhG2UmgwfBOdwrpmoIz+F+QIUO3UV4SmTslaEDKgi67fxy347OIZMHQQEunNt2FvrL+zy7+vhHpgznMIFpN2Nbv/7v1WQOCEwRIXZ3gRSZHbGgm7GVJovUYgEsuzvFiQUXOow1UsDRSZLeYaWoGN9fP9CiWhDeEDN6kOepxLsV2QtBiK1MHWf2IYWaYQwBZWwNIRWEYQhRlnFAIYUk3Q4qrvFZBw/xEA/xEA/5ZJBQWUpmDgHUfRpDIHWfppA4ze1DQLW+PcjP2m6hkBnIny2bx/LGsCRi/HM6l33NHQDZomuhh36jCqJRhzvFJph1iq+PyFS5VvE1MumvV3yNS/p39TSJh2+W9N/ASs6H2op6dsX3k7vBArlGxPFLtd41y5u6/xk0zB7qXf2mlPz1XS27i3CPEQs+Bu/3fW0rHqR9haqCh/I15NA8dq7ehRONUB77+b3QCbOxkFQnlEdCQq0wGwkZaZ0uQUKGWtg1vd+VoLUuDUj/47G34EHGuMMrepDejlNlLiBWHO4R4nzM526JE0goSSbSrROtGWy24o92ICniiJc25FGS6CODRDpDgv4yJujdUQOy0+gtNCTU6C28WLDFN0RDkdjA8lhmkHgD/+7qayvx7KZ6Xgd2ISQqkS/ehwdBmYsa7rGLavTyG50Q+C7F+2M3U9jJYnSzrfiEgId4yH8JcXK42MkxaScHvgOUgCIx2dF1N4fwU7A2JzX5dQKkFyOIxpboiodE+q5OLqsIGUFT2kTOWN5QmgtE5vJV9N6fa+2Zpb4KxfxSl1ztWRnf4AS5nobuop1CPf3M7Um9t9m9/Ijq9iOFxvdo+eojnrapZeq6TxeXhBFQINtF7OLitsDsCjreB/EPjkDE8QX450kAAAAASUVORK5CYII=");
    }

    #firmware {
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
    }

    .main .filepath {
      font-size: 0.14rem;
      text-align: center;
      margin-top: 0.1rem;
    }

    .main .btn-upgrade {
      clear: both;
      width: 1.4rem;
      height: 0.4rem;
      background-color: rgba(22, 155, 213, 1);
      border: 0;
      color: #fff;
      border-radius: 5px;
      position: absolute;
      left: 50%;
      margin-left: -0.7rem;
      margin-top: 0.5rem;
      cursor: pointer;
    }

    .main2 {
      width: calc(100vw - 2.2rem);
      height: 2rem;
      background-color: #fff;
      margin: 0 0.1rem;
    }

    .bar {
      height: 0.3rem;
      width: 5rem;
      background: #787878;
      margin: 0 auto;
      border-radius: 3px;
    }

    .inner {
      height: 0.3rem;
      width: 0;
      background: #ea7500;
      border-radius: 3px;
      overflow: hidden;
    }

    .data {
      height: 0.3rem;
      width: 0.5rem;
      line-height: 0.3rem;
      text-align: center;
      margin: 0 auto;
      padding-top: 0.4rem;
    }

    .burn {
      height: 0.5rem;
      width: 4rem;
      margin: 1rem auto;
    }
  </style>
</head>

<body>
  <div class="header">
    <div class="bg img-logo"></div>
    <div class="state">
      <div class="logout" pageid="logout1" onclick="logout(this);">
        Logout
      </div>
    </div>
  </div>
  <div class="nav">
    <form name="cgiform" id="nav" method="post" action="">
      <ul class="menu" id="">
        <li>
          <i>&gt;</i><strong pageid="dashboard" onclick="tabChange(this);">Overview</strong>
        </li>
        <li>
          <i>&gt;</i><strong pageid="cgconf" onclick="tabChange(this);">Configuration</strong>
        </li>
        <li>
          <i>&gt;</i><strong pageid="network" onclick="tabChange(this);">Network</strong>
        </li>
        <li>
          <i>&gt;</i><strong pageid="cglog" onclick="tabChange(this);">Log</strong>
        </li>
      </ul>
      <ul class="menu" id="side_nav">
        <li>
          <i>&gt;</i><strong>System</strong>
          <ul class="menu-ch">
            <li>
              <i>&gt;&gt;</i><strong pageid="admin" onclick="tabChange(this);">Password</strong>
            </li>
            <li>
              <i>&gt;&gt;</i><strong pageid="upgrade" onclick="tabChange(this);">Upgrade</strong>
            </li>
            <li>
              <i>&gt;&gt;</i><strong pageid="reboot1" onclick="reboot(this);">Reboot</strong>
            </li>
          </ul>
        </li>
      </ul>
      <div class="link">
        <ul>
          <li>
            <div class="bg img-support"></div>
            <a href="https://canaan.io/support" target="_blank" style="float: left">Support</a>
          </li>
          <li>
            <div class="bg img-document"></div>
            <a href="https://github.com/Canaan-Creative" target="_blank">
              Documents</a>
          </li>
        </ul>
      </div>
      <div></div>
    </form>
  </div>
  <div class="content">
    <div class="top">
      <div class="miner_name" id="hwtype"></div>
      <div class="vertical"></div>
      <div class="status" id="sys_status">Online</div>
      <div class="right">
        <div class="bg img-refresh"></div>
        <div class="">latest reloaded</div>
        <div class="loadtime" id="loadtime"></div>
      </div>
    </div>
    <div class="main">
      <div id="div1" style="display: block">
        <div class="title">Firmware Upgrade</div>
        <form name="networkform" id="upgradeform" method="post" action="upgrade.cgi">
          <div class="panel">
            <input value="Browse" class="btn-browse" name="browsebtn" type="button"
              onclick="document.getElementById('firmware').click()" />
            <div class="file-show">
              <div class="bg file-img"></div>
              <input type="file" name="firmware" id="firmware"
                onchange="document.getElementById('txtfile').innerHTML=this.files[0].name" />
              <div id="txtfile" class="filepath"></div>
            </div>
            <div id="cont" style="display: none"></div>
            <div id="result" style="display: none"></div>
          </div>
          <input value="Upload" class="btn-upgrade" name="uploadbtn" id="uploadbtn" type="button"
            onclick="UploadFirmware(this)" />
        </form>
      </div>
      <div id="div2" style="display: none">
        <div class="title">Firmware Upgrade</div>
        <div class="main2">
          <div class="data">100%</div>
          <div class="bar">
            <div class="inner"></div>
            <br /><br />
            <lable>Downloading image file, need some minutes...</lable>
          </div>
        </div>
        <img src="" />
      </div>
      <div id="div3" style="display: none">
        <div class="burn">
          <p><span id="mes"></span></p>
        </div>
      </div>
    </div>
    <div class="bottom">
      <div class="mac">Mac Address</div>
      <div class="mac_val" id="mac"></div>
      <div class="ip">IP Address</div>
      <div class="ip_val" id="ipv4"></div>
      <div class="version">Firmware Version</div>
      <div class="version_val" id="version"></div>
      <input type="hidden" class="stm8" name="stm8" id="stm8" />
    </div>
  </div>
</body>
<!-- common -->
<script>
  (function (doc, win) {
    var docEl = doc.documentElement,
      resizeEvt =
        "onorientationchange" in window ? "onorientationchange" : "resize",
      recalc = function () {
        var clientWidth = docEl.clientWidth;
        if (!clientWidth) {
          return;
        }
        if (clientWidth >= 750) {
          docEl.style.fontSize = "100px";
        } else {
          docEl.style.fontSize = 100 * (clientWidth / 750) + "px";
        }
      };
    if (!doc.addEventListener) {
      return;
    }
    win.addEventListener(resizeEvt, recalc, false);
    doc.addEventListener("DOMContentLoaded", recalc, false);
  })(document, window);
  function $(id) {
    return document.getElementById(id);
  }
  function $$(id) {
    return document.getElementsByName(id);
  }
  function AJAX(url, callback) {
    var req = AJAX_init();
    req.onreadystatechange = AJAX_processRequest;
    function AJAX_init() {
      if (window.XMLHttpRequest) {
        return new XMLHttpRequest();
      } else {
        if (window.ActiveXObject) {
          return new ActiveXObject("Microsoft.XMLHTTP");
        }
      }
    }
    function AJAX_processRequest() {
      if (req.readyState == 4) {
        if (req.status == 200) {
          if (callback) {
            callback(req.responseText);
          }
        }
      }
    }
    this.doGet = function () {
      req.open("GET", url, true);
      req.send(null);
    };
    this.doPost = function (body) {
      req.open("POST", url, true);
      req.setRequestHeader(
        "Content-Type",
        "application/x-www-form-urlencoded"
      );
      req.setRequestHeader("ISAJAX", "yes");
      req.send(body);
    };
  }
  (function () {
    var navWrap = document.getElementById("side_nav");
    var nav1s = navWrap.getElementsByTagName("li");
    var nav2s = navWrap.getElementsByTagName("ul");
    for (var i = 0, len = nav1s.length; i < len; i++) {
      nav1s[i].onclick = (function (i) {
        return function () {
          if (nav2s[i].style.display == "none") {
            nav2s[i].style.display = "block";
          } else {
            nav2s[i].style.display = "none";
          }
        };
      })(i);
    }
  })();
  function logout(o) {
    var win = confirm("Are you sure you want to logout?");
    var p = o.getAttribute("id");
    if (win == true) {
      cgiform.action = "logout.cgi";
      cgiform.submit();
    } else {
      return false;
    }
  }
  function reboot(o) {
    var win = confirm("Are you sure you want to reboot?");
    var p = o.getAttribute("id");
    if (win == true) {
      cgiform.action = "reboot_btn.cgi";
      cgiform.submit();
    } else {
      return false;
    }
  }
  function tabChange(o) {
    var url = o.getAttribute("pageid") + ".cgi";
    cgiform.action = url;
    cgiform.submit();
  }
  function UpdatePageCallback(req) {
    var pageId = req.pageId;
    var emList = document.getElementsByTagName("strong");
    for (var index = 0; index < emList.length; index++) {
      if (emList[index].getAttribute("pageid") == pageId) {
        emList[index].setAttribute("class", "cur");
        emList[index].previousElementSibling.setAttribute(
          "class",
          "iconfont"
        );
      } else {
        emList[index].setAttribute("class", "");
        emList[index].previousElementSibling.setAttribute("class", "");
      }
    }
  }
  function formatDateTime(inputTime) {
    var date = new Date(inputTime);
    var y = date.getFullYear();
    var m = date.getMonth() + 1;
    m = m < 10 ? "0" + m : m;
    var d = date.getDate();
    d = d < 10 ? "0" + d : d;
    var h = date.getHours();
    h = h < 10 ? "0" + h : h;
    var minute = date.getMinutes();
    var second = date.getSeconds();
    minute = minute < 10 ? "0" + minute : minute;
    second = second < 10 ? "0" + second : second;
    return y + "-" + m + "-" + d + " " + h + ":" + minute + ":" + second;
  }
  function minerinfoCallback(req) {
    req.hwtype !== undefined ? req.hwtype : "";
    req.mac !== undefined ? req.mac : "";
    req.ipv4 !== undefined ? req.ipv4 : "";
    req.version !== undefined ? req.version : "";
    req.stm8 !== undefined ? req.stm8 : "";
    $("hwtype").innerHTML = req.hwtype;
    $("loadtime").innerHTML = formatDateTime(new Date().getTime());
    var html = "";
    var css = "";
    if (req.sys_status == "1") {
      html = "Online";
      css = "status on";
    } else {
      html = "Idle";
      css = "status off";
    }
    $("sys_status").innerHTML = html;
    $("sys_status").setAttribute("class", css);
    $("mac").innerHTML = req.mac;
    $("ipv4").innerHTML = req.ipv4;
    $("version").innerHTML = req.version;
    stm8 = req.stm8;
  }

  function updateMinerInfo() {
    var oUpdate;
    oUpdate = new AJAX("get_minerinfo.cgi?num=" + Math.random(), function (
      t
    ) {
      try {
        eval(t);
      } catch (e) { }
    });
    oUpdate.doGet();
    setTimeout(updateMinerInfo, 15000);
  }
  updateMinerInfo();
  function decToHex(dec, bytes) {
    hex = dec.toString(16);
    while (hex.length < bytes) {
      hex = "0" + hex;
    }
    return hex;
  }
  function hex_to_ascii(str) {
    var arr = [];
    for (var i = 0, l = str.length; i < l; i++) {
      var hex = Number(str.charCodeAt(i)).toString(16);
      if (hex.length < 2) {
        hex = "0" + hex;
      }
      arr.push(hex);
    }
    return arr.join("");
  }
  var pkg_num = 0;
  var offset = 0;
  var reply;
  var files;
  var timer;
  var begin_timer;
  var repeat_cnt = 0;
  var end = 0;
  var flash_time = 120;
  var intervalid;
  var _width = 0;
  var progress_timer;
  var stm8;
  FileReader.prototype.readAsBinaryString = function (fileData) {
    var binary = "";
    var pt = this;
    var reader = new FileReader();
    reader.onload = function (e) {
      var bytes = new Uint8Array(reader.result);
      var length = bytes.byteLength;
      for (var i = 0; i < length; i++) {
        binary += String.fromCharCode(bytes[i]);
      }
      pt.content = binary;
      pt.onload(pt);
    };
    reader.readAsArrayBuffer(fileData);
  };
  function load_data() {
    var cgi_reply = document.getElementById("cont").innerHTML;
    if (cgi_reply == "OK" + decToHex(pkg_num, 4)) {
      pkg_num = pkg_num + 1;
      offset = offset + 256;
      repeat_cnt = 0;
      document.getElementById("cont").innerHTML = "0";
    }
    var reader = new FileReader();
    end = offset + 256 < files[0].size ? offset + 256 : files[0].size;
    reader.readAsBinaryString(files[0].slice(offset, end));
    reader.onload = function (file) {
      var buf_index = 0;
      var pkg_len = file.content.length;
      var oPost = new AJAX("upload.cgi?num=" + Math.random(), function (t) {
        try {
        } catch (e) {
          alert(e);
        }
        reply = t;
        document.getElementById("cont").innerHTML = reply;
      });
      oPost.doPost(
        "uploadbtn=" +
        decToHex(parseInt(pkg_num >> 8), 2) +
        decToHex(parseInt(pkg_num & 255), 2) +
        decToHex(parseInt(pkg_len >> 8), 2) +
        decToHex(parseInt(pkg_len & 255), 2) +
        decToHex(repeat_cnt & 255, 2) +
        hex_to_ascii(file.content)
      );
    };
    timer = setTimeout(load_data, 60);
    if (offset >= files[0].size) {
      clearTimeout(timer);
      end_cmd();
    }
    repeat_cnt = repeat_cnt + 1;
    if (repeat_cnt > 512) {
      repeat_cnt = 0;
      clearTimeout(timer);
      alert("send  img packet timeout");
    }
  }
  function begin_cmd(img_len) {
    var oPost = new AJAX("upload.cgi?num=" + Math.random(), function (t) {
      try {
      } catch (e) {
        alert(e);
      }
      document.getElementById("cont").innerHTML = t;
    });
    img_len = files[0].size;
    oPost.doPost(
      "begin=" +
      decToHex(parseInt(img_len >> 24) & 255, 2) +
      decToHex(parseInt(img_len >> 16) & 255, 2) +
      decToHex(parseInt(img_len >> 8) & 255, 2) +
      decToHex(parseInt(img_len & 255), 2)
    );
    begin_timer = setTimeout(begin_cmd, 100);
    if (document.getElementById("cont").innerHTML == "OK") {
      clearTimeout(begin_timer);
      document.getElementById("cont").innerHTML = "0";
      load_data();
    }
    if (document.getElementById("cont").innerHTML == "ERR-0") {
      document.getElementById("cont").innerHTML = "0";
      clearTimeout(begin_timer);
      alert("image file too bigger");
    }
  }
  function end_cmd() {
    var oPost = new AJAX("upload.cgi?num=" + Math.random(), function (t) {
      try {
      } catch (e) {
        alert(e);
      }
      document.getElementById("cont").innerHTML = t;
    });
    oPost.doPost("end=");
  }
  function upgrade_confim(rep) {
    var win = confirm(
      "Image File Information:\r\n" +
      "name:" +
      rep.filename +
      "\r\nsize:" +
      rep.size
    );
    if (win == true) {
      load_progress();
      begin_cmd(rep.size);
      showAndHidden(0);
    } else {
      return false;
    }
  }
  function UploadFirmware(o) {
    var p = o.name;
    var img_info;
    var files_source = document.getElementById("firmware");
    files = files_source.files;
    pkg_num = 0;
    offset = 0;
    document.getElementById("cont").innerHTML = "0";
    img_info = { filename: files[0].name, size: files[0].size };
    //var stm8 = document.getElementById("stm8").value;
    if(typeof(stm8)!="undefined"&&stm8!=null&&stm8!="") {
      if(img_info.filename.toLowerCase().indexOf("plus") == -1){
        alert("this device contains property stm8, upgrade file must be plus version!");
        return;
      }
    } else {
      if(img_info.filename.toLowerCase().indexOf("plus") != -1){
        alert("this device don't contains property stm8, upgrade file must not be plus version!");
        return;
      }
    }
    upgrade_confim(img_info);
  }
  function updateupgrade() {
    var oUpdate;
    oUpdate = new AJAX("updateupgrade.cgi", function (t) {
      try {
        eval(t);
      } catch (e) { }
    });
    oUpdate.doGet();
  }
  function get_upgrade_result() {
    var oUpdate;
    oUpdate = new AJAX("upgrade_status.cgi?num=" + Math.random(), function (
      t
    ) {
      try {
        eval(t);
      } catch (e) { }
      document.getElementById("result").innerHTML = t;
    });
    oUpdate.doGet();
  }
  function load_progress() {
    progress_timer = setTimeout(load_progress, 200);
    _width = (offset / files[0].size) * 490;
    if (_width >= 490) {
      clearTimeout(progress_timer);
      showAndHidden(1);
    }
    document.getElementsByClassName("inner")[0].style.width = _width + "px";
    var _data = Math.floor((_width / 490) * 100);
    document.getElementsByClassName("data")[0].innerText = _data + "%";
    document.getElementsByClassName("data")[0].style.left =
      256 + _width + "px";
  }
  function burn_progress() {
    get_upgrade_result();
    intervalid = setTimeout(burn_progress, 1000);
    if (
      document.getElementById("result").innerHTML == 7 ||
      document.getElementById("result").innerHTML == 8 ||
      document.getElementById("result").innerHTML == "OK"
    ) {
      clearTimeout(intervalid);
      if (document.getElementById("result").innerHTML == "OK") {
        clearTimeout(intervalid);
        document.getElementById("mes").innerHTML =
          "Upgrade successully ,please reboot device manully";
      } else {
        alert("Upgrade faild");
        document.getElementById("mes").innerHTML = "Upgrade faild";
      }
    } else {
      if (flash_time == 0) {
        clearTimeout(intervalid);
        document.getElementById("mes").innerHTML = "Program flash timeout";
      } else {
        document.getElementById("mes").innerHTML =
          "Program flash..., will be finished after (" +
          flash_time +
          ") second";
        flash_time--;
      }
    }
  }
  function showAndHidden(divflag) {
    var div1 = document.getElementById("div1");
    var div2 = document.getElementById("div2");
    var div3 = document.getElementById("div3");
    if (divflag == 1) {
      div1.style.display = "none";
      div2.style.display = "none";
      div3.style.display = "block";
      flash_time = 120;
      burn_progress();
    } else {
      if (div1.style.display == "block") {
        div1.style.display = "none";
      } else {
        div1.style.display = "block";
      }
      if (div2.style.display == "block") {
        div2.style.display = "none";
      } else {
        div2.style.display = "block";
      }
      div3.style.display = "none";
    }
  }
  updateupgrade();
</script>

</html>