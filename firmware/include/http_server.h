/**
 * =============================================================================
 * @file    http_server.h
 * @brief   Заголовочный файл HTTP сервера
 * =============================================================================
 * 
 * @author  Reconstructed from Avalon A1126pro firmware
 * @version 1.0
 * =============================================================================
 */

#ifndef _HTTP_SERVER_H_
#define _HTTP_SERVER_H_

#include <stdint.h>
#include <stdbool.h>

#ifdef __cplusplus
extern "C" {
#endif

/* =============================================================================
 * КОНСТАНТЫ
 * ============================================================================= */

/** Порт HTTP сервера по умолчанию */
#define HTTP_SERVER_PORT    80

/* =============================================================================
 * ФУНКЦИИ
 * ============================================================================= */

/**
 * @brief Инициализация HTTP сервера
 * 
 * Создаёт сокет и начинает прослушивание порта.
 * 
 * @param port Порт для прослушивания
 * @return 0 при успехе, <0 при ошибке
 */
int http_server_init(int port);

/**
 * @brief Обработка HTTP запросов
 * 
 * Неблокирующая функция. Должна вызываться периодически
 * из основного цикла или из отдельной задачи.
 */
void http_server_poll(void);

#ifdef __cplusplus
}
#endif

#endif /* _HTTP_SERVER_H_ */
